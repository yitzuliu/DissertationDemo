# AI Manual Assistant - æ¸¬è©¦å¥—ä»¶ (é‡æ–°æ•´ç†ç‰ˆ)

## ğŸ¯ **æ¸¬è©¦æ¶æ§‹æ¦‚è¿°**

æœ¬æ¸¬è©¦å¥—ä»¶æŒ‰ç…§ç³»çµ±æ¶æ§‹å’ŒåŠŸèƒ½æ¨¡çµ„é‡æ–°æ•´ç†ï¼Œæä¾›æ¸…æ™°çš„æ¸¬è©¦åˆ†é¡å’ŒåŸ·è¡ŒæŒ‡å—ã€‚

## ğŸ“ **æ¸¬è©¦çµæ§‹**

```
tests/
â”œâ”€â”€ core/                              # æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ memory_system/                     # è¨˜æ†¶ç³»çµ±æ¸¬è©¦
â”œâ”€â”€ vlm_fallback/                      # VLM Fallback æ¸¬è©¦
â”œâ”€â”€ integration/                       # æ•´åˆæ¸¬è©¦
â”œâ”€â”€ system/                           # ç³»çµ±ç´šæ¸¬è©¦
â””â”€â”€ scenarios/                        # å ´æ™¯æ¸¬è©¦
```

## ğŸ§ª **æ¸¬è©¦åˆ†é¡è©³è§£**

### **Core æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦**
å°ˆæ³¨æ–¼ç³»çµ±æ ¸å¿ƒçµ„ä»¶çš„å–®å…ƒæ¸¬è©¦å’ŒåŸºç¤åŠŸèƒ½é©—è­‰ã€‚

- **`test_backend_api.py`** - å¾Œç«¯ API ç«¯é»æ¸¬è©¦
- **`test_vector_optimization.py`** - å‘é‡å„ªåŒ–å’Œé è¨ˆç®—æ¸¬è©¦
- **`test_state_tracker.py`** - ç‹€æ…‹è¿½è¹¤å™¨æ¸¬è©¦
- **`test_query_processor.py`** - æŸ¥è©¢è™•ç†å™¨æ¸¬è©¦

### **Memory System è¨˜æ†¶ç³»çµ±æ¸¬è©¦**
é©—è­‰è¨˜æ†¶ç³»çµ±ã€ä»»å‹™çŸ¥è­˜ç®¡ç†å’Œ RAG åŠŸèƒ½ã€‚

- **`test_task_knowledge.py`** - ä»»å‹™çŸ¥è­˜è¼‰å…¥å’Œé©—è­‰
- **`test_memory_consistency.py`** - è¨˜æ†¶ä¸€è‡´æ€§å’Œä¿¡å¿ƒæŒ‡æ•¸æ¸¬è©¦
- **`test_rag_system.py`** - RAG ç³»çµ±åŠŸèƒ½æ¸¬è©¦

### **VLM Fallback æ¸¬è©¦**
æ¸¬è©¦ VLM å‚™ç”¨éŸ¿æ‡‰æ©Ÿåˆ¶çš„å„ç¨®è§¸ç™¼å ´æ™¯ã€‚

- **`test_fallback_triggers.py`** - Fallback è§¸ç™¼æ¢ä»¶æ¸¬è©¦
- **`test_fallback_integration.py`** - Fallback ç³»çµ±æ•´åˆæ¸¬è©¦
- **`test_image_processing.py`** - åœ–ç‰‡è™•ç†å’Œè¦–è¦ºåˆ†ææ¸¬è©¦

### **Integration æ•´åˆæ¸¬è©¦**
é©—è­‰å¤šå€‹æœå‹™é–“çš„å”èª¿å’Œæ•´åˆåŠŸèƒ½ã€‚

- **`test_dual_loop_coordination.py`** - é›™å¾ªç’°å”èª¿æ¸¬è©¦
- **`test_cross_service.py`** - è·¨æœå‹™åŠŸèƒ½æ¸¬è©¦
- **`test_end_to_end.py`** - ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹æ¸¬è©¦

### **System ç³»çµ±ç´šæ¸¬è©¦**
æ¸¬è©¦ç³»çµ±å•Ÿå‹•ã€æ—¥èªŒã€æ€§èƒ½ç­‰ç³»çµ±ç´šåŠŸèƒ½ã€‚

- **`test_service_startup.py`** - æœå‹™å•Ÿå‹•å’Œé€šä¿¡æ¸¬è©¦
- **`test_logging_system.py`** - æ—¥èªŒç³»çµ±æ¸¬è©¦
- **`test_performance.py`** - æ€§èƒ½åŸºæº–æ¸¬è©¦

### **Scenarios å ´æ™¯æ¸¬è©¦**
åŸºæ–¼å¯¦éš›ä½¿ç”¨å ´æ™¯çš„ç¶œåˆæ¸¬è©¦ã€‚

- **`test_coffee_brewing.py`** - å’–å•¡æ²–æ³¡å ´æ™¯å®Œæ•´æ¸¬è©¦
- **`test_task_scenarios.py`** - å…¶ä»–ä»»å‹™å ´æ™¯æ¸¬è©¦

## ğŸš€ **åŸ·è¡Œæ¸¬è©¦**

### **æŒ‰é¡åˆ¥åŸ·è¡Œ**
```bash
# æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
python -m pytest tests/core/ -v

# è¨˜æ†¶ç³»çµ±æ¸¬è©¦
python -m pytest tests/memory_system/ -v

# VLM Fallback æ¸¬è©¦
python -m pytest tests/vlm_fallback/ -v

# æ•´åˆæ¸¬è©¦
python -m pytest tests/integration/ -v

# ç³»çµ±ç´šæ¸¬è©¦
python -m pytest tests/system/ -v

# å ´æ™¯æ¸¬è©¦
python -m pytest tests/scenarios/ -v
```

### **åŸ·è¡Œç‰¹å®šæ¸¬è©¦**
```bash
# å¾Œç«¯ API æ¸¬è©¦
python tests/core/test_backend_api.py

# å’–å•¡æ²–æ³¡å ´æ™¯æ¸¬è©¦
python tests/scenarios/test_coffee_brewing.py

# é›™å¾ªç’°å”èª¿æ¸¬è©¦
python tests/integration/test_dual_loop_coordination.py
```

### **åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦**
```bash
# ä½¿ç”¨ pytest
python -m pytest tests/ -v

# æˆ–ä½¿ç”¨è‡ªå®šç¾©è…³æœ¬
python tests/run_all_tests.py
```

## ğŸ“Š **æ¸¬è©¦è¦†è“‹ç¯„åœ**

### **åŠŸèƒ½è¦†è“‹**
- âœ… VLM è¦–è¦ºè™•ç†
- âœ… å¾Œç«¯ API æœå‹™
- âœ… ç‹€æ…‹è¿½è¹¤å’Œç®¡ç†
- âœ… è¨˜æ†¶ç³»çµ±å’Œ RAG
- âœ… VLM Fallback æ©Ÿåˆ¶
- âœ… è·¨æœå‹™å”èª¿
- âœ… æ—¥èªŒå’Œç›£æ§
- âœ… ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹

### **æ¸¬è©¦é¡å‹**
- **å–®å…ƒæ¸¬è©¦** - å€‹åˆ¥çµ„ä»¶åŠŸèƒ½
- **æ•´åˆæ¸¬è©¦** - çµ„ä»¶é–“å”ä½œ
- **ç³»çµ±æ¸¬è©¦** - å®Œæ•´ç³»çµ±åŠŸèƒ½
- **å ´æ™¯æ¸¬è©¦** - å¯¦éš›ä½¿ç”¨æƒ…å¢ƒ
- **æ€§èƒ½æ¸¬è©¦** - éŸ¿æ‡‰æ™‚é–“å’Œè³‡æºä½¿ç”¨

## ğŸ”§ **æ¸¬è©¦ç’°å¢ƒè¨­ç½®**

### **å‰ç½®æ¢ä»¶**
```bash
# æ¿€æ´»è™›æ“¬ç’°å¢ƒ
source ai_vision_env/bin/activate

# è¨­ç½® Python è·¯å¾‘
export PYTHONPATH=$PYTHONPATH:$(pwd)/src

# å®‰è£æ¸¬è©¦ä¾è³´
pip install pytest pytest-asyncio requests pillow
```

### **æ¸¬è©¦è³‡æ–™**
- ä»»å‹™è³‡æ–™: `data/tasks/coffee_brewing.yaml`
- æ¸¬è©¦åœ–ç‰‡: `data/test_images/`
- æ—¥èªŒæª”æ¡ˆ: `logs/`

## ğŸ“ˆ **æ€§èƒ½åŸºæº–**

### **éŸ¿æ‡‰æ™‚é–“ç›®æ¨™**
- API ç«¯é»: < 100ms
- ç‹€æ…‹æ›´æ–°: < 50ms
- è·¨æœå‹™é€šä¿¡: < 200ms
- VLM Fallback: < 5000ms

### **è¨˜æ†¶é«”ä½¿ç”¨ç›®æ¨™**
- æ»‘å‹•è¦–çª—: < 1MB
- å‘é‡å¿«å–: é«˜æ•ˆé è¨ˆç®—
- æœå‹™è¨˜æ†¶é«”: ç©©å®šä½¿ç”¨

## ğŸš¨ **æ•…éšœæ’é™¤**

### **å¸¸è¦‹å•é¡Œ**
1. **å°å…¥éŒ¯èª¤**: ç¢ºä¿ PYTHONPATH è¨­ç½®æ­£ç¢º
2. **æœå‹™æœªå•Ÿå‹•**: æª¢æŸ¥å¿…è¦æœå‹™æ˜¯å¦é‹è¡Œ
3. **æ¸¬è©¦è³‡æ–™ç¼ºå¤±**: ç¢ºèªæ¸¬è©¦è³‡æ–™æª”æ¡ˆå­˜åœ¨
4. **ç«¯å£è¡çª**: æª¢æŸ¥ç«¯å£ 8000 å’Œ 8080 æ˜¯å¦å¯ç”¨

### **èª¿è©¦æ¨¡å¼**
```bash
# å•Ÿç”¨è©³ç´°æ—¥èªŒ
export LOG_LEVEL=DEBUG

# åŸ·è¡Œå–®ä¸€æ¸¬è©¦ä¸¦é¡¯ç¤ºè¼¸å‡º
python tests/core/test_backend_api.py -v
```

## ğŸ“‹ **ç¶­è­·æŒ‡å—**

### **æ·»åŠ æ–°æ¸¬è©¦**
1. é¸æ“‡é©ç•¶çš„åˆ†é¡è³‡æ–™å¤¾
2. éµå¾ªå‘½åæ…£ä¾‹: `test_*.py`
3. åŒ…å«å®Œæ•´çš„æ–‡æª”å­—ä¸²
4. æ›´æ–°ç›¸é—œ README

### **æ›´æ–°ç¾æœ‰æ¸¬è©¦**
- ä¿æŒæ¸¬è©¦èˆ‡ä»£ç¢¼åŒæ­¥
- æ›´æ–°é æœŸçµæœ
- ç¶­è­·å‘å¾Œå…¼å®¹æ€§

## ğŸ”„ **é‡æ–°æ•´ç†æ­·å²**

### **2025å¹´1æœˆ - æ¸¬è©¦çµæ§‹é‡æ–°æ•´ç†**
- âœ… æŒ‰åŠŸèƒ½æ¨¡çµ„é‡æ–°åˆ†é¡
- âœ… ç§»é™¤é‡è¤‡å’Œéæ™‚æ¸¬è©¦
- âœ… æ”¹å–„æ¸¬è©¦çµ„ç¹”å’Œå¯ç¶­è­·æ€§
- âœ… å‰µå»ºæ¸…æ™°çš„åŸ·è¡ŒæŒ‡å—

### **æ­¸æª”æª”æ¡ˆ**
èˆŠçš„æ¸¬è©¦çµæ§‹å·²ç§»è‡³ `archive/tests/`ï¼ŒåŒ…æ‹¬ï¼š
- èˆŠçš„ stage çµæ§‹
- é‡è¤‡çš„æ¸¬è©¦æª”æ¡ˆ
- å¯¦é©—æ€§æ¸¬è©¦

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ  
**ç‹€æ…‹**: âœ… **é‡æ–°æ•´ç†å®Œæˆ**  
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ